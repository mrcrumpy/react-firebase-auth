{"version":3,"sources":["webpack:///webpack/bootstrap 1cc125a73361d7ac52ef","webpack:///external \"react\"","webpack:///./app/utils/firebaseUtils.js","webpack:///external \"react-router\"","webpack:///./app/components/Main/Main.jsx","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"react-dom/server\"","webpack:///./app/components/Dashboard/Dashboard.jsx","webpack:///./app/components/Login/Login.jsx","webpack:///./app/components/Login/Logout.jsx","webpack:///./app/components/Login/Register.jsx","webpack:///./server/app.jsx","webpack:///external \"firebase\"","webpack:///external \"prop-types\"","webpack:///external \"react-router-dom\"","webpack:///./app/utils/authenticated.jsx"],"names":["console","log","process","env","FB_APIKEY","FB_AUTHDOM","FB_DATAURL","FB_STORAGE","FB_MESS_SENDERID","config","apiKey","authDomain","databaseURL","storageBucket","messagingSenderId","initializeApp","ref","database","auth","firebaseUtils","createUser","user","createUserWithEmailAndPassword","email","password","then","createdUser","updateProfile","displayName","name","child","uid","set","loginWithPW","cb","cbOnRegister","signInWithEmailAndPassword","catch","error","code","authData","onChange","loginWithGoogle","provider","GoogleAuthProvider","signInWithPopup","once","snapshot","isNewUser","exists","loginWithFacebook","FacebookAuthProvider","isLoggedIn","onAuthStateChanged","getCurrentUser","currentUser","logout","signOut","Main","props","context","state","loggedIn","receivedData","setState","setMessage","sidebar","handleSwipeRight","handleSwipeLeft","Component","propTypes","Dashboard","Login","handleGoogle","bind","redirectToReferrer","e","preventDefault","value","pw","err","authed","location","from","pathname","errors","handleFacebook","handleSubmit","c","defaultProps","contextTypes","Logout","message","Register","prename","router","replace","routes","app","use","static","get","req","res","match","reduce","acc","route","url","exact","status","send","markup","redirect","render","port","PORT","server","listen","NotFoundPage","PrivateRoute","component","rest"],"mappings":"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","file":"server.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1cc125a73361d7ac52ef","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import firebase from 'firebase';\n\nconsole.log('FB_APIKEY: ', process.env.FB_APIKEY);\nconsole.log('FB_AUTHDOM: ', process.env.FB_AUTHDOM);\nconsole.log('DATA_URL: ', process.env.FB_DATAURL);\nconsole.log('FB_STORAGE: ', process.env.FB_STORAGE);\nconsole.log('FB_MESS_SENDERID: ', process.env.FB_MESS_SENDERID);\n\nconst config = {\n  apiKey: process.env.FB_APIKEY,\n  authDomain: process.env.FB_AUTHDOM,\n  databaseURL: process.env.FB_DATAURL,\n  storageBucket: process.env.FB_STORAGE,\n  messagingSenderId: process.env.FB_MESS_SENDERID,\n};\n\nfirebase.initializeApp(config);\nlet ref = firebase.database().ref();\nconst auth = firebase.auth();\n\nconst firebaseUtils = {\n  createUser(user) {\n    auth.createUserWithEmailAndPassword(user.email, user.password).then((createdUser) => {\n      createdUser.updateProfile({\n        displayName: user.name,\n      });\n      ref = firebase.database().ref('users').child(createdUser.uid);\n      ref.set({\n        name: user.name,\n      });\n    });\n  },\n  loginWithPW(user, cb, cbOnRegister) {\n    auth.signInWithEmailAndPassword(user.email, user.password).catch((error) => {\n      // Handle Errors here.\n      cb(error.code);\n    }).then((authData) => {\n      firebaseUtils.onChange(true);\n      if (cbOnRegister) {\n        cb(authData);\n        cbOnRegister(false);\n      } else {\n        cb(false);\n      }\n    });\n  },\n  loginWithGoogle(cb) {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider).catch((error) => {\n      cb(error.code);\n    }).then((authData) => {\n      ref = firebase.database().ref('users').child(authData.user.uid);\n      ref.once('value')\n        .then((snapshot) => {\n          const isNewUser = !snapshot.exists();\n          if (authData && isNewUser) {\n            ref.set({\n              name: authData.user.displayName,\n            }).catch((error) => {\n              console.log(error);\n            });\n          }\n        });\n      firebaseUtils.onChange(true);\n      cb(false);\n    });\n  },\n  loginWithFacebook(cb) {\n    const provider = new firebase.auth.FacebookAuthProvider();\n    auth.signInWithPopup(provider).catch((error) => {\n      cb(error.code);\n    }).then((authData) => {\n      console.log(authData);\n      ref = firebase.database().ref('users').child(authData.user.uid);\n      ref.once('value')\n        .then((snapshot) => {\n          const isNewUser = !snapshot.exists();\n          if (authData && isNewUser) {\n            ref.set({\n              name: authData.user.displayName,\n            }).catch((error) => {\n              console.log(error);\n            });\n          }\n        });\n      firebaseUtils.onChange(true);\n      cb(false);\n    }).catch((error) => {\n      console.log('Error:', error);\n    });\n  },\n  isLoggedIn(cb) {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        cb(true, user);\n      } else {\n        cb(false, null);\n      }\n    });\n  },\n  getCurrentUser(cb) {\n    auth.onAuthStateChanged((user) => {\n      cb(user);\n    });\n    return auth.currentUser;\n  },\n  logout() {\n    firebase.auth().signOut().then(() => {\n      firebaseUtils.onChange(false);\n    }, (error) => {\n      console.log(error);\n    });\n  },\n};\n\nexport default firebaseUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils/firebaseUtils.js","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 2\n// module chunks = 0","import React from 'react';\n\nimport {\n  Route,\n  Switch,\n} from 'react-router';\n\nimport firebaseUtils from '../../utils/firebaseUtils';\nimport PrivateRoute from '../../utils/authenticated';\n\nimport Dashboard from '../Dashboard/Dashboard';\nimport Login from '../Login/Login';\nimport Logout from '../Login/Logout';\nimport Register from '../Login/Register';\n\n\n\nclass Main extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      loggedIn: false,\n      currentUser: null,\n      receivedData: false,\n    };\n  }\n\n  componentWillMount() {\n    firebaseUtils.onChange = () => {\n      this.setState({\n        loggedIn: false,\n      });\n    };\n    firebaseUtils.isLoggedIn((loggedIn, currentUser) => {\n      this.setState({\n        loggedIn,\n        currentUser,\n        receivedData: true,\n      });\n    });\n  }\n  render() {\n    if (this.state.receivedData === false) {\n      return false;\n    }\n    return (\n      <div>\n          <Switch>\n            <PrivateRoute exact path=\"/\" authed={this.state.loggedIn} component={Dashboard} user={this.state.currentUser} setMessage={this.setMessage} sidebar={this.state.sidebar} setSidebarLeft={this.handleSwipeRight} setSidebarRight={this.handleSwipeLeft} />\n            <Route path=\"/login\" render={() => <Login authed={this.state.loggedIn} />} />\n            <Route path=\"/register\" component={Register} />\n            <Route path=\"/logout\" component={Logout} />\n          </Switch>\n      </div>\n    );\n  }\n}\n\nMain.propTypes = {\n};\n\nexport default Main;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/Main/Main.jsx","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 6\n// module chunks = 0","import React from 'react';\n\nconst Dashboard = () => <div> Secured Route </div>;\n\n\nexport default Dashboard;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/Dashboard/Dashboard.jsx","import React from 'react';\nimport { bool, shape, string } from 'prop-types';\nimport {\n  Link,\n  Redirect,\n} from 'react-router-dom';\nimport firebaseUtils from '../../utils/firebaseUtils';\n\nclass Login extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleGoogle = this.handleGoogle.bind(this);\n\n    this.state = {\n      error: false,\n      redirectToReferrer: false,\n    };\n  }\n  componentWillMount() {\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    const email = this.email.value;\n    const pw = this.pw.value;\n    firebaseUtils.loginWithPW({ email, password: pw }, (err) => {\n      if (!err) {\n        this.setState({ redirectToReferrer: true });\n      } else {\n        this.setState({ error: err });\n      }\n    });\n  }\n  handleGoogle(e) {\n    e.preventDefault();\n    firebaseUtils.loginWithGoogle((err) => {\n      if (!err) {\n        this.setState({ redirectToReferrer: true });\n      } else {\n        this.setState({ error: err });\n      }\n    });\n  }\n  handleFacebook(e) {\n    e.preventDefault();\n\n    firebaseUtils.loginWithFacebook((err) => {\n      if (!err) {\n        this.setState({ redirectToReferrer: true });\n      } else {\n        this.setState({ error: err });\n      }\n    });\n  }\n  render() {\n    if (this.props.authed === true) return <Redirect to=\"/\" />;\n    const { from } = this.props.location.state || { from: { pathname: '/' } };\n    const { redirectToReferrer } = this.state;\n\n    if (redirectToReferrer) {\n      return (\n        <Redirect to={from} />\n      );\n    }\n\n    const errors = this.state.error ? <p> {this.state.error} </p> : '';\n    return (\n      <div className=\"grid-block align-center v-align\">\n        <div className=\"grid-content small-12 medium-8 large-6 align-center\">\n          <h1 className=\"small-12\"> Einloggen </h1>\n          <p>Du hast noch kein Konto?</p>\n          <Link to=\"/register\">Jetzt registrieren</Link>\n          <div className=\"grid-block\">\n            <div className=\"small-6 grid-content\">\n              <button className=\"form-submit\" onClick={this.handleGoogle}>Mit Google einloggen</button>\n            </div>\n            <div className=\"small-6 grid-content text-right\">\n              <button className=\"form-submit\" onClick={this.handleFacebook}>Mit Facebook einloggen</button>\n            </div>\n          </div>\n\n          <form className=\"small-12\" onSubmit={this.handleSubmit}>\n            <input ref={(c) => { this.email = c; }} type=\"text\" placeholder=\"Email\" />\n            <input ref={(c) => { this.pw = c; }} type=\"password\" placeholder=\"Password\" />\n            <button type=\"submit\" className=\"form-submit float-right\">Einloggen</button>\n            {errors}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  authed: bool,\n  location: shape({\n    pathname: string,\n    state: shape({\n      from: string,\n    }),\n  }),\n};\n\nLogin.defaultProps = {\n  authed: false,\n  location: {},\n};\n\nLogin.contextTypes = {\n};\n\nexport default Login;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/Login/Login.jsx","import React from 'react';\nimport { Redirect } from 'react-router';\n\nimport firebaseUtils from '../../utils/firebaseUtils';\n\n\nclass Logout extends React.Component {\n  componentWillMount() {\n    firebaseUtils.logout();\n  }\n  render() {\n    return <Redirect to={{ pathname: '/login', state: { message: 'you are now logged out!' } }} />;\n  }\n}\nexport default Logout;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/Login/Logout.jsx","import React from 'react';\n\nimport firebaseUtils from '../../utils/firebaseUtils';\n\n\nclass Register extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\n    this.state = {\n      error: false,\n    };\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    const email = this.email.value;\n    const pw = this.pw.value;\n    const prename = this.prename.value;\n    const name = this.name.value;\n    firebaseUtils.createUser({ name: `${prename} ${name}`, email, password: pw }, (err) => {\n      if (!err) {\n        this.context.router.replace('/');\n      } else {\n        this.setState({ error: err });\n      }\n    });\n  }\n  render() {\n    const errors = this.state.error ? <p> {this.state.error} </p> : '';\n    return (\n      <div className=\"grid-block align-center v-align\">\n        <div className=\"grid-content small-12 medium-8 large-6 align-center\">\n          <h1> Register </h1>\n          <p>Du hast schon ein CookSpace Konto?</p>\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"vorname\"> Vorname </label>\n              <input id=\"vorname\" type=\"text\" className=\"form-control\" ref={(c) => { this.prename = c; }} placeholder=\"Vorname\" required />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"nachname\"> Nachname </label>\n              <input id=\"nachname\" type=\"text\" className=\"form-control\" ref={(c) => { this.name = c; }} placeholder=\"Nachname\" required />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"email\"> Email </label>\n              <input id=\"email\" type=\"text\" className=\"form-control\" ref={(c) => { this.email = c; }} placeholder=\"Email\" required />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <input id=\"password\" ref={(c) => { this.pw = c; }} type=\"password\" className=\"form-control\" placeholder=\"Password\" required />\n            </div>\n            {errors}\n            <button type=\"submit\" className=\"form-submit float-right\">Register</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Register;\n\n\n\n// WEBPACK FOOTER //\n// ./app/components/Login/Register.jsx","import { Server } from 'http';\nimport Express from 'express';\nimport React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { StaticRouter as Router, matchPath, Link } from 'react-router';\n\nimport App from '../app/components/Main/Main';\n\nconst routes = [\n  '/',\n  '/login',\n  '/register',\n];\n\nconst app = new Express();\n\napp.set('view engine', 'ejs');\napp.set('views', 'views');\napp.use(Express.static('public'));\n\napp.get('*', (req, res) => {\n  const match = routes.reduce((acc, route) => matchPath(req.url, route, { exact: true }) || acc, null);\n  const context = {};\n  if (!match) {\n    return res.status(404).send(renderToString(<NotFoundPage />));\n  }\n  const markup = renderToString(\n    <Router context={context} location={req.url}>\n      <App />\n    </Router>,\n    );\n  if (context.url) {\n    return res.redirect(302, context.url);\n  }\n  return res.render('index', { markup });\n});\n\n\nconst port = process.env.PORT || 3000;\nconst server = new Server(app);\n\nserver.listen(port, (err) => {\n  if (err) {\n    return false;\n  }\n  return true;\n});\n\n\nconst NotFoundPage = () => (\n  <div className=\"not-found\">\n    <h1>404</h1>\n    <h2>Page not found!</h2>\n    <p>\n      <Link to=\"/\">Go back to the main page</Link>\n    </p>\n  </div>\n  )\n;\n\n\n\n// WEBPACK FOOTER //\n// ./server/app.jsx","module.exports = require(\"firebase\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"firebase\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 14\n// module chunks = 0","import React from 'react';\nimport { Redirect, Route } from 'react-router';\n\nfunction PrivateRoute({ component: Component, authed, ...rest }) {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return authed ? <Component {...props} {...rest} />\n      : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n;\n      }\n    }\n    />\n  );\n}\n\nexport default PrivateRoute;\n\n\n\n// WEBPACK FOOTER //\n// ./app/utils/authenticated.jsx"],"sourceRoot":""}